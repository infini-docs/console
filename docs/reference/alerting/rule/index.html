<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Alerting Rules #  Introduction #  The alerting rules include the configuration of four parts: data source, metrics definition, trigger condition, and message notification
Alerting rules list #  In the alerting rules list, you can query the alerting rules that have been added
New alerting rule #  Click the New button in the alerting rule list to enter the new alerting rule page
Configure data source #   Select a cluster (required) Select index, support input index pattern (required) Input elasticsearch query DSL query filter conditions (optional) Select time field (required) Select the statistical period (for time field aggregation, the default is one minute)  Configure alerting metrics and trigger conditions #   Input the rule name Add the grouped fields and group size as needed, you can add more than one for terms aggregation Select the metrics aggregation field and statistics type, you can configure more than one, when configuring more than one, you must configure a formula to calculate the final metrics Configure alerting trigger conditions Select execution check cycle Input the title of the alerting event (template, referenced by the title in the template variable, click here to learn about template syntax ) Input alerting event message (template, referenced by message in template variable, click here for template syntax )  Configure message notification #   Configure notification channels, which can be reconfigured, or you can use the add button to select an already created channel as a template to quickly fill in, and support adding multiple Choose whether to enable notification upgrades as needed Select silence period (how often notification messages are sent) Configure notification sending time period Click the save button to submit  Update alerting rules #  Select the alerting rule to be updated in the alerting rules list and click the Edit button to enter the update alerting rules page"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Alerting Rules"><meta property="og:description" content="Alerting Rules #  Introduction #  The alerting rules include the configuration of four parts: data source, metrics definition, trigger condition, and message notification
Alerting rules list #  In the alerting rules list, you can query the alerting rules that have been added
New alerting rule #  Click the New button in the alerting rule list to enter the new alerting rule page
Configure data source #   Select a cluster (required) Select index, support input index pattern (required) Input elasticsearch query DSL query filter conditions (optional) Select time field (required) Select the statistical period (for time field aggregation, the default is one minute)  Configure alerting metrics and trigger conditions #   Input the rule name Add the grouped fields and group size as needed, you can add more than one for terms aggregation Select the metrics aggregation field and statistics type, you can configure more than one, when configuring more than one, you must configure a formula to calculate the final metrics Configure alerting trigger conditions Select execution check cycle Input the title of the alerting event (template, referenced by the title in the template variable, click here to learn about template syntax ) Input alerting event message (template, referenced by message in template variable, click here for template syntax )  Configure message notification #   Configure notification channels, which can be reconfigured, or you can use the add button to select an already created channel as a template to quickly fill in, and support adding multiple Choose whether to enable notification upgrades as needed Select silence period (how often notification messages are sent) Configure notification sending time period Click the save button to submit  Update alerting rules #  Select the alerting rule to be updated in the alerting rules list and click the Edit button to enter the update alerting rules page"><meta property="og:type" content="article"><meta property="og:url" content="/docs/reference/alerting/rule/"><title>Alerting Rules | INFINI Console</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=alternate hreflang=zh href=/zh/docs/reference/alerting/rule/ title=告警规则><link rel=stylesheet href=/book.min.84eaa6a79900600efa5cbc14401006e14d31cf306ef3db88d7fd45c2f6adc342.css integrity="sha256-hOqmp5kAYA76XLwUQBAG4U0xzzBu89uI1/1Fwvatw0I="><script defer src=/en.search.min.977e13edbdca9d0c793e6be98155147758eb1ab2113ed161caeae2a99e3df4ae.js integrity="sha256-l34T7b3KnQx5PmvpgVUUd1jrGrIRPtFhyuriqZ499K4="></script><link rel=stylesheet type=text/css href=/css/asciinema-player.css><script defer src=/js/jquery-2.x.min.js></script><script defer src=/js/doc.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><img src=/img/logo-en.svg alt=Logo></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><div class=heading><select class=version-selector>
<option value>master (latest)</option>
<option value=v0.6.0>v0.6.x</option>
<option value=v0.5.0>v0.5.x</option>
<option value=v0.4.0>v0.4.x</option>
<option value=v0.3.0>v0.3.x</option></select></div><ul><li><input type=checkbox id=section-f1b7c1b2e5dd43526e77637c475d35b8 class=toggle>
<label for=section-f1b7c1b2e5dd43526e77637c475d35b8 class="flex justify-between"><a>Quick Start</a>
<span>▾</span></label><ul><li><a href=/docs/getting-started/install/>Installation</a></li><li><a href=/docs/getting-started/ilm/>Index Settings</a></li><li><a href=/docs/getting-started/docker/>Docker</a></li></ul></li><li><input type=checkbox id=section-084ba1dbb512652712ad881ff8045610 class=toggle checked>
<label for=section-084ba1dbb512652712ad881ff8045610 class="flex justify-between"><a>Reference</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-5e5111152017c79ed39a34209990dab7 class=toggle checked>
<label for=section-5e5111152017c79ed39a34209990dab7 class="flex justify-between"><a>Alerting</a>
<span>▾</span></label><ul><li><a href=/docs/reference/alerting/message/>Alerting Center</a></li><li><a href=/docs/reference/alerting/rule/ class=active>Alerting Rules</a></li><li><a href=/docs/reference/alerting/channel/>Alerting Channels</a></li><li><a href=/docs/reference/alerting/variables/>Template variables</a></li></ul></li><li><a href=/docs/reference/initialization/>Initialization Guide</a><ul></ul></li><li><input type=checkbox id=section-dc19493497a0afff7833e4e9dc3568aa class=toggle>
<label for=section-dc19493497a0afff7833e4e9dc3568aa class="flex justify-between"><a>Platform</a>
<span>▾</span></label><ul><li><a href=/docs/reference/platform/overview/>Platform Overview</a></li><li><a href=/docs/reference/platform/monitoring/>Cluster Monitoring</a></li></ul></li><li><input type=checkbox id=section-77e7dc04d6c2293e5fe55f48c5b1a96d class=toggle>
<label for=section-77e7dc04d6c2293e5fe55f48c5b1a96d class="flex justify-between"><a href=/docs/reference/data/>Data</a>
<span>▾</span></label><ul><li><a href=/docs/reference/data/indices/>Index Management</a></li><li><a href=/docs/reference/data/alias/>Alias Management</a></li><li><a href=/docs/reference/data/view/>Data View</a></li><li><a href=/docs/reference/data/discover/>Discover</a></li></ul></li><li><a href=/docs/reference/devtool/>Dev Tools</a><ul></ul></li><li><input type=checkbox id=section-4d372e275e589511fb7282b1f9f3f20f class=toggle>
<label for=section-4d372e275e589511fb7282b1f9f3f20f class="flex justify-between"><a>System</a>
<span>▾</span></label><ul><li><a href=/docs/reference/system/cluster/>Cluster Management</a><ul></ul></li><li><a href=/docs/reference/system/command/>Common Commands</a><ul></ul></li><li><input type=checkbox id=section-89e2a3b5192ba2e5bd11dc7aab78be3d class=toggle>
<label for=section-89e2a3b5192ba2e5bd11dc7aab78be3d class="flex justify-between"><a href=/docs/reference/system/security/>Security</a>
<span>▾</span></label><ul><li><a href=/docs/reference/system/security/role/>Role</a></li><li><a href=/docs/reference/system/security/user/>User</a></li><li><a href=/docs/reference/system/security/settings/>Settings</a></li></ul></li></ul></li><li><input type=checkbox id=section-5860fb455fea11f0ed079673fd767cda class=toggle>
<label for=section-5860fb455fea11f0ed079673fd767cda class="flex justify-between"><a>Agent</a>
<span>▾</span></label><ul><li><a href=/docs/reference/agent/manage/manage/>Overview</a></li><li><a href=/docs/reference/agent/install/>Installing Agent</a></li><li><a href=/docs/reference/agent/docker/>Container Deployment</a></li></ul></li></ul></li><li><a href=/docs/screenshots/>Screenshots</a><ul></ul></li><li><input type=checkbox id=section-7dd85575c84e6825eb9419e748eb5977 class=toggle>
<label for=section-7dd85575c84e6825eb9419e748eb5977 class="flex justify-between"><a>Tutorials</a>
<span>▾</span></label><ul><li><a href=/docs/tutorials/start_with_specify_user/>How to specify built-in account name and password to start INFINI Console</a></li><li><a href=/docs/tutorials/create_readonly_account/>How to easily create an Elasticsearch "guest" user</a></li><li><a href=/docs/tutorials/role_with_different_rights/>How to assign different Elasticsearch cluster access permissions to different INFINI Console accounts</a></li><li><a href=/docs/tutorials/role_with_index_limit/>How to assign Elasticsearch index-level permissions to INFINI Console accounts</a></li><li><a href=/docs/tutorials/cluster_health_change/>How to Monitor Elasticsearch Cluster Health</a></li><li><a href=/docs/tutorials/cluster_node_disk_usage/>How to monitor Elasticsearch cluster node disk usage</a></li><li><a href=/docs/tutorials/cluster_slow_request/>How to monitor slow query requests in Elasticsearch</a></li><li><a href=/docs/tutorials/cluster_node_cpu_usage/>How to monitor the CPU usage of Elasticsearch cluster nodes</a></li><li><a href=/docs/tutorials/cluster_node_jvm_usage/>How to monitor JVM usage of Elasticsearch cluster nodes</a></li></ul></li><li><a href=/docs/user-cases/>User Cases</a><ul></ul></li><li><a href=/docs/troubleshooting/>FAQs</a><ul></ul></li><li><a href=/docs/release-notes/>Release Notes</a><ul></ul></li><li><a href=/docs/upgrade/>Upgrade</a><ul></ul></li><li><a href=/docs/resources/>Other Resources</a><ul></ul></li></ul><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li><a href=/zh/docs/reference/alerting/rule/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li><li class=active><a href=/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></li></ul></div><ul><a class=download-btn href=https://release.infinilabs.com/>Download</a></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Alerting Rules</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#alerting-rules>Alerting Rules</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#alerting-rules-list>Alerting rules list</a></li><li><a href=#new-alerting-rule>New alerting rule</a><ul><li><a href=#configure-data-source>Configure data source</a></li><li><a href=#configure-alerting-metrics-and-trigger-conditions>Configure alerting metrics and trigger conditions</a></li><li><a href=#configure-message-notification>Configure message notification</a></li></ul></li><li><a href=#update-alerting-rules>Update alerting rules</a></li><li><a href=#delete-alerting-rules>Delete alerting rules</a></li><li><a href=#import-of-common-rule-templates>Import of common rule templates</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=alerting-rules>Alerting Rules
<a class=anchor href=#alerting-rules>#</a></h1><h2 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h2><p>The alerting rules include the configuration of four parts: data source, metrics definition, trigger condition, and message notification</p><h2 id=alerting-rules-list>Alerting rules list
<a class=anchor href=#alerting-rules-list>#</a></h2><p>In the alerting rules list, you can query the alerting rules that have been added</p><p><img src=/img/screenshot/20220715-alerting-rule-list.jpg alt="alerting rule list"></p><h2 id=new-alerting-rule>New alerting rule
<a class=anchor href=#new-alerting-rule>#</a></h2><p>Click the <code>New</code> button in the alerting rule list to enter the new alerting rule page</p><h3 id=configure-data-source>Configure data source
<a class=anchor href=#configure-data-source>#</a></h3><p><img src=/img/screenshot/20220715-alerting-rule-new-data.jpg alt="alerting rule new"></p><ul><li>Select a cluster (required)</li><li>Select index, support input index pattern (required)</li><li>Input elasticsearch query DSL query filter conditions (optional)</li><li>Select time field (required)</li><li>Select the statistical period (for time field aggregation, the default is one minute)</li></ul><h3 id=configure-alerting-metrics-and-trigger-conditions>Configure alerting metrics and trigger conditions
<a class=anchor href=#configure-alerting-metrics-and-trigger-conditions>#</a></h3><p><img src=/img/screenshot/20220715-alerting-rule-new-metric.jpg alt="alerting rule new"></p><ul><li>Input the rule name</li><li>Add the grouped fields and group size as needed, you can add more than one for terms aggregation</li><li>Select the metrics aggregation field and statistics type, you can configure more than one, when configuring more than one, you must configure a formula to calculate the final metrics</li><li>Configure alerting trigger conditions</li><li>Select execution check cycle</li><li>Input the title of the alerting event (template, referenced by the title in the template variable, click here to learn about
<a href=/docs/reference/alerting/variables/>template syntax</a> )</li><li>Input alerting event message (template, referenced by message in template variable, click here for
<a href=/docs/reference/alerting/variables/>template syntax</a> )</li></ul><h3 id=configure-message-notification>Configure message notification
<a class=anchor href=#configure-message-notification>#</a></h3><p><img src=/img/screenshot/20220715-alerting-rule-new-notification.jpg alt="alerting rule new"></p><p><img src=/img/screenshot/20220715-alerting-rule-new-notification1.jpg alt="alerting rule new"></p><ul><li>Configure notification channels, which can be reconfigured, or you can use the add button to select an already created channel as a template to quickly fill in, and support adding multiple</li><li>Choose whether to enable notification upgrades as needed</li><li>Select silence period (how often notification messages are sent)</li><li>Configure notification sending time period</li><li>Click the save button to submit</li></ul><h2 id=update-alerting-rules>Update alerting rules
<a class=anchor href=#update-alerting-rules>#</a></h2><p>Select the alerting rule to be updated in the alerting rules list and click the Edit button to enter the update alerting rules page</p><h2 id=delete-alerting-rules>Delete alerting rules
<a class=anchor href=#delete-alerting-rules>#</a></h2><p>Click the delete button in the alerting rule list table to confirm the second time. After confirming the deletion, execute the delete operation.</p><h2 id=import-of-common-rule-templates>Import of common rule templates
<a class=anchor href=#import-of-common-rule-templates>#</a></h2><p>Some common Alerting rules are listed below, and notification channels such as DingTalk, Enterprise WeChat, and Slack are configured. You only need to replace the custom variables specified in the template, and you can quickly import the rules through the DevTools tool of the Console.</p><ul><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Cluster-Health-Change-to-Red.md>Cluster Health Change to Red</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Index-Health-Change-to-Red.md>Index Health Change to Red</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Disk-Utilization-is-Too-High.md>Disk utilization is Too High</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/CPU-Utilization-is-Too-High.md>CPU utilization is Too High</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/JVM-Utilization-is-Too-High.md>JVM utilization is Too High</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Shard-Storage-gte-55G.md>Shard Storage >= 55G</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Elasticsearch-Node-Left-Cluster.md>Elasticsearch node left cluster</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Search-Latency-gte-500ms.md>Search latency is great than 500ms</a></li><li><a href=https://github.com/infinilabs/examples/blob/master/Console/Alerting-rules/Too-Many-Deleted-Documents.md>Too Many Deleted Documents</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li><a href=/zh/docs/reference/alerting/rule/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
简体中文</a></li><li class=active><a href=/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></li></ul></div><div class="flex align-center footer">©INFINI.LTD, All Rights Reserved.</div><script>(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:2716856,hjsv:6};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-L0XH1C4CVP"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-L0XH1C4CVP');</script><script type=text/javascript>var _smartsupp=_smartsupp||{};_smartsupp.key='691ff544d18a237005a011a7290b839d8fe811a4';window.smartsupp||(function(d){var s,c,o=smartsupp=function(){o._.push(arguments)};o._=[];s=d.getElementsByTagName('script')[0];c=d.createElement('script');c.type='text/javascript';c.charset='utf-8';c.async=true;c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);})(document);</script></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#alerting-rules>Alerting Rules</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#alerting-rules-list>Alerting rules list</a></li><li><a href=#new-alerting-rule>New alerting rule</a><ul><li><a href=#configure-data-source>Configure data source</a></li><li><a href=#configure-alerting-metrics-and-trigger-conditions>Configure alerting metrics and trigger conditions</a></li><li><a href=#configure-message-notification>Configure message notification</a></li></ul></li><li><a href=#update-alerting-rules>Update alerting rules</a></li><li><a href=#delete-alerting-rules>Delete alerting rules</a></li><li><a href=#import-of-common-rule-templates>Import of common rule templates</a></li></ul></li></ul></nav></aside></main><script src=/js/asciinema-player.js></script></body></html>